import json
import numpy as np
import utils
import replace
from html_similarity import style_similarity, structural_similarity, similarity


def html_appearance(ori_content, adv_content):
    adv_content = json.dumps(adv_content)
    adv_content = json.loads(adv_content)
    return similarity(ori_content, adv_content, 0.3)


def html_style_similarity(ori_content, adv_content):
    adv_content = json.dumps(adv_content)
    adv_content = json.loads(adv_content)
    return style_similarity(ori_content, adv_content)

#衡量网页结构和外观显示风格的相似性
def html_structural_similarity(ori_content, adv_content):
    adv_content = json.dumps(adv_content)
    adv_content = json.loads(adv_content)
    return structural_similarity(ori_content, adv_content)

#欧式距离
def euc_dist(ori_content, adv_content):

    vec1, label = utils.build_text(' '.join(utils.preprocessing(ori_content)))
    vec2, label2 = utils.build_text(' '.join(utils.preprocessing(adv_content)))

    vec1 = np.array(vec1)
    vec2 = np.array(vec2)

    dist1 = float(np.sqrt(abs(np.nansum(np.square(vec1 - vec2)))))
    return dist1

#标准化欧式距离
def se_euc_dist(ori_content, adv_content):

    vec1, label = utils.build_text(' '.join(utils.preprocessing(ori_content)))
    vec2, label2 = utils.build_text(' '.join(utils.preprocessing(adv_content)))

    vec1 = np.array(vec1)
    vec2 = np.array(vec2)

    sk = np.var(np.vstack([vec1, vec2]), axis=0, ddof=1)

    np.seterr(divide='ignore', invalid='ignore')
    dist = np.sqrt(abs(np.nansum(np.square(vec1 - vec2)/sk)))

    return dist

#衡量网页结构和外观显示风格以外，字符的相似性
def seque_diff(ori_content, adv_content,similiar_dict, max_ratio=1.0, flag=None):
    from difflib import SequenceMatcher

    ori_content = utils.extracTextFromHtml(ori_content)
    adv_content = utils.extracTextFromHtml(adv_content)
    maketrans = str.maketrans
    t = maketrans("".join(similiar_dict.values()), "".join(similiar_dict.keys()))
    adv_content = adv_content.translate(t)
    s = SequenceMatcher(flag, ori_content, adv_content)
    rst = s.ratio()
    return rst

if __name__ == '__main__':

    content = r"HTTP/1.1 200 OK\r\nServer: Virata-EmWeb/R6_2_1\r\nX-Frame-Options: SAMEORIGIN\r\nX-Content-Type-Options: nosniff\r\nCache-Control: no-cache, no-store, must-revalidate\r\nTransfer-Encoding: chunked\r\nContent-Type: text/html;charset=utf-8\r\nExpires: Thu, 01 Jan 1970 00:00:00 GMT\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">\n<html>\n\n<head>\n  \n\n  <title>HP Color LaserJet MFP M477fdw&nbsp;&nbsp;&nbsp;140.192.194.195</title>\n\n  <link href=\"/hp/device/defaultnew.css\" type=\"text/css\" rel=\"stylesheet\">\n<link href=\"/hp/device/ltr.css\" type=\"text/css\" rel=\"stylesheet\">\n<link href=\"/hp/device/privacy200.css\" type=\"text/css\" rel=\"stylesheet\">\n\n  <script type=\"text/javascript\" src=\"/hp/device/global.js\"></script>\n  <style id=\"antiClickjack\">body{display:none !important;}</style><script type=\"text/javascript\">if (self === top){var antiClickjack = document.getElementById(\"antiClickjack\");antiClickjack.parentNode.removeChild(antiClickjack);}else{top.location = self.location;}</script><script type=\"text/javascript\" src=\"/hp/device/buttonManager.js\"></script>\n  <script type=\"text/javascript\" src=\"/hp/device/jquery.js\"></script>\n<script type=\"text/javascript\">\n<!--\nfunction addSetupManageLinks()\n{\n  \n      var currentUrl = location.href;\n      var pattern = /localhost:[0-9][0-9][0-9][0-9][0-9]\\//;\n  \n\n   var setupUrls = [];\n   var manageUrls = [];\n   var index = 0;\n   setupUrls[index++] = \"<a href=\\\"set_config_IP.html?tab=Networking&amp;menu=NetIPv4Config\\\">IPv4 Configuration<\\/a>\";\n   setupUrls[index++] = \"<a href=\\\"set_config_networkIPv6.html?tab=Networking&amp;menu=NetIPv6Config\\\">IPv6 Configuration<\\/a>\";\n   setupUrls[index++] = \"<a href=\\\"set_config_network_Wireless.html?tab=Networking&amp;menu=NetWireless\\\">Wireless Configuration<\\/a>\";\n   \n       setupUrls[index++] = \"<a href=\\\"set_config_webServices.html?tab=WebServices&amp;menu=WebServicesConfig\\\">Web Services Setup<\\/a>\";\n   \n      \n   setupUrls[index++] = \"<a href=\\\"set_config_gcp.html?tab=Networking&amp;menu=NetGcpSetup\\\">Google Cloud Print<\\/a>\";\n   \n      \n   setupUrls[index++] = \"<a href=\\\"set_config_jobStorage.html?tab=System&amp;menu=JobStorageSetup\\\">Job Storage Setup<\\/a>\";\n   \n   setupUrls[index++] = \"<a href=\\\"set_config_scantoConfiguration.html?tab=Scan&amp;menu=ScantoCfg\\\">Scan to Network Folder Setup<\\/a>\";\n   setupUrls[index++] = \"<a href=\\\"info_scantoEmailSetup.html?tab=Scan&amp;menu=EmailSetup\\\">Scan to E-mail Setup<\\/a>\";\n   setupUrls[index++] = \"\";\n\n   manageUrls[0] = \"<a href=\\\"set_config_faxPhonebook.html?tab=Fax&amp;menu=FaxPB\\\">Fax Phone Book<\\/a>\";\n   manageUrls[1] = \"<a href=\\\"set_config_faxBlockList.html?tab=Fax&amp;menu=FaxBlockList\\\">Fax Junk Phone List<\\/a>\";\n   manageUrls[2] = \"<a href=\\\"set_config_networkCerts.html?tab=Networking&amp;menu=NetCerts\\\">Certificates<\\/a>\";\n   manageUrls[3] = \"<a href=\\\"set_config_password.html?tab=System&amp;menu=Passwd\\\">Product Security<\\/a>\";\n   manageUrls[4] = \"<a href=\\\"set_config_energy.html?tab=System&amp;menu=EnergySettings\\\">Energy Settings<\\/a>\";\n   manageUrls[5] = \"<a href=\\\"set_config_emailContacts.html?tab=Scan&amp;menu=EmailContacts\\\">E-mail Address Book<\\/a>\";\n\n   setupUrls = $.grep(setupUrls, function(val) { return val != \"\"; }); // Remove empties\n   var rowCount = Math.ceil( setupUrls.length/3 );\n   var urlIndex=0;\n   if(rowCount == 0)\n   {\n       $('#setupSectionDiv').hide();\n       $('#setupSectionTable').hide();\n   }\n   else\n   {\n       for(var rowIndex=0; rowIndex < rowCount; rowIndex++ )\n       {\n           var row= $('#setupSectionTable')[0].insertRow(rowIndex);\n           for( var colIndex = 0; colIndex < 3; colIndex++ )\n           {\n               urlIndex=rowIndex + (colIndex*rowCount);\n               var cell = row.insertCell(colIndex);\n               cell.width=\"33%\";\n               if(setupUrls[urlIndex])\n               {\n                   cell.innerHTML=setupUrls[urlIndex];\n               }\n           }\n       }\n   }\n\n   manageUrls = $.grep(manageUrls, function(val) { return val != \"\"; }); // Remove empties\n   rowCount = Math.ceil( manageUrls.length/3 );\n   urlIndex=0;\n\n   for(var rowIndex=0; rowIndex < rowCount; rowIndex++ )\n   {\n      var row= $('#manageSection')[0].insertRow(rowIndex);\n      for( var colIndex = 0; colIndex < 3; colIndex++ )\n      {\n         urlIndex=rowIndex + (colIndex*rowCount);\n         var cell = row.insertCell(colIndex);\n         cell.width=\"33%\";\n         if(manageUrls[urlIndex])\n         {\n            cell.innerHTML=manageUrls[urlIndex];\n         }\n      }\n   }\n}\n-->\n</script>\n\n\n</head>\n<body onload=\"addSetupManageLinks();\">\n   <noscript> <div id=\"WirelessAlertBox\" class=\"alertbox\"> <table> <tr><td><IMG SRC=\"info.gif\" alt=\"\"></td><td class=\"noscriptText\">JavaScript is disabled in your Web browser. Enable it to take full advantage of the printer's Web page, and then refresh the browser.</td> </tr> </table> </div> </noscript><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"applicationMastheadSmall\">\n  <tr>\n    <td class=\"mastheadIcon\"><a href=\"http://www.hp.com\" onclick=\"target = new Date().valueOf().toString(); if (window.open) window.open('http://www.hp.com', target,'resizable=yes,scrollbars=yes,menubar=yes,location=yes,toolbar=yes,status=yes'); return false;\"><img src=\"logo.gif\" alt=\"Click this HP logo to open a new browser window, which takes you to the external HP.com Web site.\" title=\"Click this HP logo to open a new browser window, which takes you to the external HP.com Web site.\"></a></td>\n    <td class=\"mastheadTitle\"><h1>HP Color LaserJet MFP M477fdw</h1></td>\n    <td><div class=\"mastheadPhoto\"><img src=\"masthead.jpg\" alt=\"Printer Cartridges\"></div></td>\n    <td class=\"mastheadLinks\"><a href=\"info_deviceStatus.html?tab=Home&amp;menu=DevStatus\">Home</a></td>\n  </tr>\n</table>\n\n   <div class=\"userId\">HP&nbsp;Color&nbsp;LaserJet&nbsp;MFP&nbsp;M477fdw&nbsp;&nbsp;&nbsp;NPI06DE2E&nbsp;&nbsp;&nbsp;140.192.194.195</div>\n\n   <div class=\"applicationPalette\">\n   <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n   <!-- tabs -->\n   <tr>\n  <td colspan=\"2\">\n  <div class=\"tabSet\">\n  \n  \n    <div class=\"tabOn\"><a href=\"info_deviceStatus.html?tab=Home&amp;menu=DevStatus\" title=\"Home tab.  This tab is currently selected.  You can view information and status about this product.\">Home</a></div>\n\n\n    <div class=\"tabOff\"><a href=\"set_config_deviceInfo.html?tab=System&amp;menu=DevInfo\" title=\"Sytem tab.  Click this tab to view and configure the system settings for this product.\">System</a></div>\n\n\n    <div class=\"tabOff\"><a href=\"set_config_print.html?tab=Print&amp;menu=Printing\" title=\"Print tab.  Click this tab to view and configure the print settings for this product.\">Print</a></div>\n\n\n    \n      <div class=\"tabOff\"><a href=\"set_config_faxRecv.html?tab=Fax&amp;menu=FaxRecv\" title=\"Fax tab.  Click this tab to view and configure the fax settings for this product.\">Fax</a></div>\n\n\n\n    \n    \n      <div class=\"tabOff\"><a href=\"set_config_scantoConfiguration.html?tab=Scan&amp;menu=ScantoCfg\" title=\"Scan tab.  Click this tab to view and configure the scan to settings for this product.\">Scan</a></div>\n\n\n\n    \n    \n      <div class=\"tabOff\"><a href=\"info_config_network.html?tab=Networking&amp;menu=NetConfig\" title=\"Networking tab.  Click this tab to view and configure the network settings for this product.\">Networking</a></div>\n\n    \n    \n      \n          \n  <div class=\"tabOff\"><a href=\"set_config_webServices.html?tab=WebServices&amp;menu=WebServicesConfig\" title=\"HP Web Services tab.  Click this tab to view and configure the Web Services settings for this product.\">HP Web Services</a></div>\n\n\n\n      \n    \n  \n  </div>\n  </td>\n</tr>\n\n   <tr>\n      <!-- menu -->\n            \n         <td class=\"leftContentPane\">\n  <div class=\"mainNav\">\n    <div id=\"navigationControl\">\n\n\n  <div class=\"navigationControlOn\"><a href=\"info_deviceStatus.html?tab=Home&amp;menu=DevStatus\" title=\"Device Status menu item.  Use this to view the current status of your device.\">Device Status</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_suppliesStatus.html?tab=Home&amp;menu=SupplyStatus\" title=\"Supplies Status menu item.  Use this to view the status of the consumable supplies in your device.\">Supplies Status</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_configuration.html?tab=Home&amp;menu=DevConfig\" title=\"Configuration menu item.  Use this to view the configuration of your device.\">Device Configuration</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_config_network.html?tab=Home&amp;menu=NetConfig\" title=\"Network Summary menu item.  Use this to view the network configuration settings.\">Network Summary</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_specialPages.html?tab=Home&amp;menu=InfoPages\" title=\"Reports menu item.  This page has links that you can use to print the various information pages that reside within the memory of the product.\">Reports</a></div>\n\n  \n    <div class=\"navigationControlOff\"><a href=\"info_jobLog.html?tab=Home&amp;menu=JobLog\" title=\"Job Log menu item.  Use this to view the Jobs that have occurred in your device.\">Job Storage Log</a></div>\n\n  \n  \n  <div class=\"navigationControlOff\"><a href=\"info_colorUsageJobLog.html?tab=Home&amp;menu=ColorUsageLog\" title=\"Color Usage Job Log menu item.  Use this to view a list of recent documents that have been printed on this device.\">Color Usage Log</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_eventLog.html?tab=Home&amp;menu=EventLog\" title=\"Event Log menu item.  Use this to view the events that have occurred in your device.\">Event Log</a></div>\n\n\n    </div>\n  </div>\n</td>\n\n\n      \n      \n      \n      \n      \n      \n      \n\n      <td class=\"rightContentPane\">\n      <div class=\"paletteBg\">\n <table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"paletteTop\" border=\"0\">\n  <tr>\n   <td valign=\"top\">\n    <h1>Device Status</h1>\n   </td>\n   <td class=\"paletteTopButtons\">\n    <div class=\"butSet\">\n\n     <FORM method=\"post\" onSubmit=\"return false;\" ACTION=\"/hp/device/contentHeader.html\">\n      <div>\n      <INPUT type=\"submit\" class=\"buttonTxtSize\" name=\"Order\" id=\"Order\" onClick=\"WindowOpen('order_supplies.html');\" VALUE=\"Shop for Supplies\">\n      <INPUT type=\"submit\" class=\"buttonTxtSize\" name=\"Support\" id=\"Support\" onClick=\"WindowOpen('support.html');\" VALUE=\"Support\">\n      </div>\n     </FORM>\n    </div>\n    <div class=\"clearFloats\"></div>\n   </td>\n  </tr>\n </table>\n</div>\n\n\n\n\n\n  \n\n\n\n      \n\n\n              \n\n              <h3 class=\"subTitle\">\n                Device Status\n              </h3>\n              <div class=\"subtitleBottomEdge\"></div>\n\n              <div class=\"pad10\">\n              <table>\n              <tr><td colspan=4>&nbsp;</td></tr> \n              <tr>\n                  <td class=\"labelLargeFont\">Status: </td>\n                  <td class=\"itemLargeFont\" id=\"deviceStatus_tableCell\">\n                    \n                       Sleep&nbsp;mode&nbsp;is&nbsp;on. <br>\n                    \n                  </td>\n                  <td>&nbsp;&nbsp<a href=\"info_deviceStatus.html?tab=Home&amp;menu=DevStatus\"><img src=\"icon_refresh.gif\" alt=\"Refresh. Click this to refresh the device status.\" title=\"Refresh. Click this to refresh the device status.\"></a></td>\n                  <td>&nbsp;</td>\n              </tr>\n\n              <tr><td>&nbsp;</td></tr> \n              </table></div>\n\n              \n\n              \n                     \n\n         <h3 class=\"subTitle\">Supplies Summary</h3><div class=\"subtitleBottomEdge\"></div>\n\n         <div class=\"pad10\">\n           <table class=\"mainContentArea width100 pad10\">\n             <tr>                                    \n               <td class=\"width25\">                  \n                 <table class=\"width100\">            \n                   <tr>                        \n                     <td>                      \n                       Black Cartridge\n                       <br>\n                       Order \u202d410X (CF410X)\u202c\n                     </td>\n                     <td class=\"alignRight valignTop\">\n                       \n                         \n                           \n                             40%\n                           \n                           *\n                         \n                       \n                     </td>\n                   </tr>\n                   <tr>\n                     <td class=\"width100\" colspan=\"2\">\n                       <table cellspacing=\"0\" cellpadding=\"0\" class=\"hpGasGaugeBorder valignTop\">\n                         <tr>\n                           \n                             <td style=\"WIDTH:40%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #000000;\"></td>\n                             <td style=\"WIDTH:60%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFFFF;\"></td>\n                           \n                         </tr>\n                       </table>\n                     </td>\n                   </tr>\n                 </table>\n               </td>\n               \n                 \n\n\n\n\n\n               <td class=\"width25\">                  \n                 <table class=\"width100\">            \n                   <tr>                        \n                     <td>                      \n                       Cyan Cartridge\n                       <br>\n                       Order \u202d410X (CF411X)\u202c\n                     </td>\n                     <td class=\"alignRight valignTop\">\n                       \n                         \n                           \n                             100%\n                           \n                           *\n                         \n                       \n                     </td>\n                   </tr>\n                   <tr>\n                     <td class=\"width100\" colspan=\"2\">\n                       <table cellspacing=\"0\" cellpadding=\"0\" class=\"hpGasGaugeBorder valignTop\">\n                         <tr>\n                           \n                             <td style=\"WIDTH:100%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #00FFFF;\"></td>\n                             <td style=\"WIDTH:0%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFFFF;\"></td>\n                           \n                         </tr>\n                       </table>\n                     </td>\n                   </tr>\n                 </table>\n               </td>\n\n\n\n\n\n\n\n\n               <td class=\"width25\">                  \n                 <table class=\"width100\">            \n                   <tr>                        \n                     <td>                      \n                       Magenta Cartridge\n                       <br>\n                       Order \u202d410A (CF413A)\u202c\n                     </td>\n                     <td class=\"alignRight valignTop\">\n                       \n                         \n                           \n                             70%\n                           \n                           *\n                         \n                       \n                     </td>\n                   </tr>\n                   <tr>\n                     <td class=\"width100\" colspan=\"2\">\n                       <table cellspacing=\"0\" cellpadding=\"0\" class=\"hpGasGaugeBorder valignTop\">\n                         <tr>\n                           \n                             <td style=\"WIDTH:70%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FF00FF;\"></td>\n                             <td style=\"WIDTH:30%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFFFF;\"></td>\n                           \n                         </tr>\n                       </table>\n                     </td>\n                   </tr>\n                 </table>\n               </td>\n\n\n\n\n\n\n\n\n               <td class=\"width25\">                  \n                 <table class=\"width100\">            \n                   <tr>                        \n                     <td>                      \n                       Yellow Cartridge\n                       <br>\n                       Order \u202d410A (CF412A)\u202c\n                     </td>\n                     <td class=\"alignRight valignTop\">\n                       \n                         \n                           \n                             20%\n                           \n                           *\n                         \n                       \n                     </td>\n                   </tr>\n                   <tr>\n                     <td class=\"width100\" colspan=\"2\">\n                       <table cellspacing=\"0\" cellpadding=\"0\" class=\"hpGasGaugeBorder valignTop\">\n                         <tr>\n                           \n                             <td style=\"WIDTH:20%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFF00;\"></td>\n                             <td style=\"WIDTH:80%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFFFF;\"></td>\n                           \n                         </tr>\n                       </table>\n                     </td>\n                   </tr>\n                 </table>\n               </td>\n\n\n\n               \n             </tr>\n\n             <tr><td style=\"FONT-SIZE:5px\" colspan=4>&nbsp;</td></tr>\n               \n          \n\n  \n          \n\n  \n          \n\n  \n          \n\n  \n          \n\n  \n          \n\n  \n          \n\n  \n          \n            <tr>\n              <td class=\"itemFont\" colspan=4>\n                *\n                Approximate only; varies depending on types of\ndocuments printed and other factors.\n                <br>&nbsp;\n              </td>\n            </tr>\n          \n\n\n\n\n             <tr>\n               <td colspan=\"4\">\n                 <FORM method=\"post\" ACTION=\"/hp/device/supplies_status.html\">\n                 <div class=\"butSet pad6x10\">\n                   <INPUT type=\"submit\" class=\"buttonTxtSize\" name=\"SuppliesDetails\" id=\"SuppliesDetails\" VALUE=\"Supplies Detail\">\n                 </div>\n                 </FORM>\n               </td>\n             </tr>\n           </table>\n         </div>\n\n\n\n\n  \n\n               \n              \n              <div id=\"setupSectionDiv\">\n                <h3 class=\"subTitle\">\n                  Setup\n                </h3>\n                <div class=\"subtitleBottomEdge\"></div>\n              </div>\n              \n              <div class=\"pad10\">\n                <table id=\"setupSectionTable\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                  <tr><td>&nbsp;</td></tr> \n                </table>\n              </div>\n              \n              <h3 class=\"subTitle\">\n                Manage\n              </h3>\n              <div class=\"subtitleBottomEdge\"></div>\n              <div class=\"pad10\">\n                <table id=\"manageSection\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                  <tr><td>&nbsp;</td></tr> \n                </table>\n              </div>\n              \n            <div>\n              <table class=\"mainContentArea\">\n               <tr><td colspan=\"5\"><hr></td></tr>\n               <tr><td>&nbsp;</td>\n                <td class=\"alignRight\"><img src=\"colorLok.png\" width=\"75\" height=\"75\" alt=\"\"></td>\n                <td class=\"ColorLokFont\">\n                  <div class=\"itemLargeFont\">\n                    <a class=\"linkHover\" href=\"http://www.colorlok.com\" onclick=\"window.open(this.href); return false;\">HP recommends ColorLok\u00ae papers for best printing results.</a>\n                  </div>\n\n                </td>\n                <td>&nbsp;</td>\n\t       </tr>  \n               <tr><td>&nbsp;</td></tr>\n             </table></div>\n              \n\n      </td>\n   </tr>\n   </table>\n   </div>\n   <script type=\"text/javascript\">\n  reconcileEventHandlers();\n</script>\n \n</body>\n</html>\n"
    content2 = r"HTTP/1.1 200 OK\r\nServer: Virat\u0251\\-EmWeb/R6_2_1\r\nX-Frame-Options: SAMEORIGIN\r\nX-Content-Type-Options: nosniff\r\nCache-Control: no-cache, no-store, must-revalidate\r\nTransfer-Encoding: chunked\r\nContent-Type: text/html;charset=utf-8\r\nExpires: Thu, 01 Jan 1970 00:00:00 GMT\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\">\n<html>\n\n<head>\n  \n\n  <title>HP Color LaserJet MFP M477fd\u051d&nbsp;&nbsp;&nbsp;140.192.194.195</title>\n\n  <link href=\"/hp/device/defaultnew.css\" type=\"text/css\" rel=\"stylesheet\">\n<link href=\"/hp/device/ltr.css\" type=\"text/css\" rel=\"stylesheet\">\n<link href=\"/hp/device/privacy200.css\" type=\"text/css\" rel=\"stylesheet\">\n\n  <script type=\"text/javascript\" src=\"/hp/device/global.js\"></script>\n  <style id=\"antiClickjack\">body{display:none !important;}</style><script type=\"text/javascript\">if (self === top){var antiClickjack = document.getElementById(\"antiClickjack\");antiClickjack.parentNode.removeChild(antiClickjack);}else{top.location = self.location;}</script><script type=\"text/javascript\" src=\"/hp/device/buttonManager.js\"></script>\n  <script type=\"text/javascript\" src=\"/hp/device/jquery.js\"></script>\n<script type=\"text/javascript\">\n\n</script>\n\n\n</head>\n<body onload=\"addSetupManageLinks();\">\n   <noscript> <div id=\"WirelessAlertBox\" class=\"alertbox\"> <table> <tr><td><IMG SRC=\"info.gif\" alt=\"\"></td><td class=\"noscriptText\">JavaScript is disabled in your Web browser. Enable it to take full advantage of the printer's Web page, and then refresh the browser.</td> </tr> </table> </div> </noscript><table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"applicationMastheadSmall\">\n  <tr>\n    <td class=\"mastheadIcon\"><a href=\"http://www.hp.com\" onclick=\"target = new Date().valueOf().toString(); if (window.open) window.open('http://www.hp.com', target,'resizable=yes,scrollbars=yes,menubar=yes,location=yes,toolbar=yes,status=yes'); return false;\"><img src=\"logo.gif\" alt=\"Click this HP logo to open a new browser window, which takes you to the external HP.com Web site.\" title=\"Click this HP logo to open a new browser window, which takes you to the external HP.com Web site.\"></a></td>\n    <td class=\"mastheadTitle\"><h1>HP Color LaserJet MFP M477fd\u051d</h1></td>\n    <td><div class=\"mastheadPhoto\"><img src=\"masthead.jpg\" alt=\"Printer Cartridges\"></div></td>\n    <td class=\"mastheadLinks\"><a href=\"info_deviceStatus.html?tab=Home&amp;menu=DevStatus\">Home</a></td>\n  </tr>\n</table>\n\n   <div class=\"userId\">HP&nbsp;Color&nbsp;LaserJet&nbsp;MFP&nbsp;M477fd\u051d&nbsp;&nbsp;&nbsp;NPI06DE2E&nbsp;&nbsp;&nbsp;140.192.194.195</div>\n\n   <div class=\"applicationPalette\">\n   <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n   \n   <tr>\n  <td colspan=\"2\">\n  <div class=\"tabSet\">\n  \n  \n    <div class=\"tabOn\"><a href=\"info_deviceStatus.html?tab=Home&amp;menu=DevStatus\" title=\"Home tab.  This tab is currently selected.  You can view information and status about this product.\">Home</a></div>\n\n\n    <div class=\"tabOff\"><a href=\"set_config_deviceInfo.html?tab=System&amp;menu=DevInfo\" title=\"Sytem tab.  Click this tab to view and configure the system settings for this product.\">System</a></div>\n\n\n    <div class=\"tabOff\"><a href=\"set_config_print.html?tab=Print&amp;menu=Printing\" title=\"Print tab.  Click this tab to view and configure the print settings for this product.\">Print</a></div>\n\n\n    \n      <div class=\"tabOff\"><a href=\"set_config_faxRecv.html?tab=Fax&amp;menu=FaxRecv\" title=\"Fax tab.  Click this tab to view and configure the fax settings for this product.\">Fax</a></div>\n\n\n\n    \n    \n      <div class=\"tabOff\"><a href=\"set_config_scantoConfiguration.html?tab=Scan&amp;menu=ScantoCfg\" title=\"Scan tab.  Click this tab to view and configure the scan to settings for this product.\">Scan</a></div>\n\n\n\n    \n    \n      <div class=\"tabOff\"><a href=\"info_config_network.html?tab=Networking&amp;menu=NetConfig\" title=\"Networking tab.  Click this tab to view and configure the network settings for this product.\">Networking</a></div>\n\n    \n    \n      \n          \n  <div class=\"tabOff\"><a href=\"set_config_webServices.html?tab=WebServices&amp;menu=WebServicesConfig\" title=\"HP Web Services tab.  Click this tab to view and configure the Web Services settings for this product.\">HP Web Services</a></div>\n\n\n\n      \n    \n  \n  </div>\n  </td>\n</tr>\n\n   <tr>\n      \n            \n         <td class=\"leftContentPane\">\n  <div class=\"mainNav\">\n    <div id=\"navigationControl\">\n\n\n  <div class=\"navigationControlOn\"><a href=\"info_deviceStatus.html?tab=Home&amp;menu=DevStatus\" title=\"Device Status menu item.  Use this to view the current status of your device.\">Device Status</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_suppliesStatus.html?tab=Home&amp;menu=SupplyStatus\" title=\"Supplies Status menu item.  Use this to view the status of the consumable supplies in your device.\">Supplies Status</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_configuration.html?tab=Home&amp;menu=DevConfig\" title=\"Configuration menu item.  Use this to view the configuration of your device.\">Device Configuration</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_config_network.html?tab=Home&amp;menu=NetConfig\" title=\"Network Summary menu item.  Use this to view the network configuration settings.\">Network Summary</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_specialPages.html?tab=Home&amp;menu=InfoPages\" title=\"Reports menu item.  This page has links that you can use to print the various information pages that reside within the memory of the product.\">Reports</a></div>\n\n  \n    <div class=\"navigationControlOff\"><a href=\"info_jobLog.html?tab=Home&amp;menu=JobLog\" title=\"Job Log menu item.  Use this to view the Jobs that have occurred in your device.\">Job Storage Log</a></div>\n\n  \n  \n  <div class=\"navigationControlOff\"><a href=\"info_colorUsageJobLog.html?tab=Home&amp;menu=ColorUsageLog\" title=\"Color Usage Job Log menu item.  Use this to view a list of recent documents that have been printed on this device.\">Color Usage Log</a></div>\n\n  \n  <div class=\"navigationControlOff\"><a href=\"info_eventLog.html?tab=Home&amp;menu=EventLog\" title=\"Event Log menu item.  Use this to view the events that have occurred in your device.\">Event Log</a></div>\n\n\n    </div>\n  </div>\n</td>\n\n\n      \n      \n      \n      \n      \n      \n      \n\n      <td class=\"rightContentPane\">\n      <div class=\"paletteBg\">\n <table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"paletteTop\" border=\"0\">\n  <tr>\n   <td valign=\"top\">\n    <h1>Device Status</h1>\n   </td>\n   <td class=\"paletteTopButtons\">\n    <div class=\"butSet\">\n\n     <FORM method=\"post\" onSubmit=\"return false;\" ACTION=\"/hp/device/contentHeader.html\">\n      <div>\n      <INPUT type=\"submit\" class=\"buttonTxtSize\" name=\"Order\" id=\"Order\" onClick=\"WindowOpen('order_supplies.html');\" VALUE=\"Shop for Supplies\">\n      <INPUT type=\"submit\" class=\"buttonTxtSize\" name=\"Support\" id=\"Support\" onClick=\"WindowOpen('support.html');\" VALUE=\"Support\">\n      </div>\n     </FORM>\n    </div>\n    <div class=\"clearFloat\u0455\"></div>\n   </td>\n  </tr>\n </table>\n</div>\n\n\n\n\n\n  \n\n\n\n      \n\n\n              \n\n              <h3 class=\"subTitle\">\n                Device Status\n              </h3>\n              <div class=\"subtitleBottomEdge\"></div>\n\n              <div class=\"pad10\">\n              <table>\n              <tr><td colspan=4>&nbsp;</td></tr> \n              <tr>\n                  <td class=\"labelLargeFont\">Status: </td>\n                  <td class=\"itemLargeFont\" id=\"deviceStatus_tableCell\">\n                    \n                       Sleep&nbsp;mode&nbsp;is&nbsp;on. <br>\n                    \n                  </td>\n                  <td>&nbsp;&nbsp<a href=\"info_deviceStatus.html?tab=Home&amp;menu=DevStatus\"><img src=\"icon_refresh.gif\" alt=\"Refresh. Click this to refresh the device status.\" title=\"Refresh. Click this to refresh the device status.\"></a></td>\n                  <td>&nbsp;</td>\n              </tr>\n\n              <tr><td>&nbsp;</td></tr> \n              </table></div>\n\n              \n\n              \n                     \n\n         <h3 class=\"subTitle\">Supplies Summary</h3><div class=\"subtitleBottomEdge\"></div>\n\n         <div class=\"pad10\">\n           <table class=\"mainContentArea width100 pad10\">\n             <tr>                                    \n               <td class=\"width25\">                  \n                 <table class=\"width100\">            \n                   <tr>                        \n                     <td>                      \n                       Black Cartridge\n                       <br>\n                       Order \u202d410X (CF410X)\u202c\n                     </td>\n                     <td class=\"alignRight valignTop\">\n                       \n                         \n                           \n                             40%\n                           \n                           *\n                         \n                       \n                     </td>\n                   </tr>\n                   <tr>\n                     <td class=\"width100\" colspan=\"2\">\n                       <table cellspacing=\"0\" cellpadding=\"0\" class=\"hpGasGaugeBorder valignTop\">\n                         <tr>\n                           \n                             <td style=\"WIDTH:40%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #000000;\"></td>\n                             <td style=\"WIDTH:60%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFFFF;\"></td>\n                           \n                         </tr>\n                       </table>\n                     </td>\n                   </tr>\n                 </table>\n               </td>\n               \n                 \n\n\n\n\n\n               <td class=\"width25\">                  \n                 <table class=\"width100\">            \n                   <tr>                        \n                     <td>                      \n                       Cyan Cartridge\n                       <br>\n                       Order \u202d410X (CF4l1X)\u202c\n                     </td>\n                     <td class=\"alignRight valignTop\">\n                       \n                         \n                           \n                             100%\n                           \n                           *\n                         \n                       \n                     </td>\n                   </tr>\n                   <tr>\n                     <td class=\"width100\" colspan=\"2\">\n                       <table cellspacing=\"0\" cellpadding=\"0\" class=\"hpGasGaugeBorder valignTop\">\n                         <tr>\n                           \n                             <td style=\"WIDTH:100%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #00FFFF;\"></td>\n                             <td style=\"WIDTH:0%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFFFF;\"></td>\n                           \n                         </tr>\n                       </table>\n                     </td>\n                   </tr>\n                 </table>\n               </td>\n\n\n\n\n\n\n\n\n               <td class=\"width25\">                  \n                 <table class=\"width100\">            \n                   <tr>                        \n                     <td>                      \n                       Magenta Cartridge\n                       <br>\n                       Order \u202d410A (CF413A)\u202c\n                     </td>\n                     <td class=\"alignRight valignTop\">\n                       \n                         \n                           \n                             70%\n                           \n                           *\n                         \n                       \n                     </td>\n                   </tr>\n                   <tr>\n                     <td class=\"width100\" colspan=\"2\">\n                       <table cellspacing=\"0\" cellpadding=\"0\" class=\"hpGasGaugeBorder valignTop\">\n                         <tr>\n                           \n                             <td style=\"WIDTH:70%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FF00FF;\"></td>\n                             <td style=\"WIDTH:30%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFFFF;\"></td>\n                           \n                         </tr>\n                       </table>\n                     </td>\n                   </tr>\n                 </table>\n               </td>\n\n\n\n\n\n\n\n\n               <td class=\"width25\">                  \n                 <table class=\"width100\">            \n                   <tr>                        \n                     <td>                      \n                       Yellow Cartridge\n                       <br>\n                       Order \u202d410A (C\u0191412A)\u202c\n                     </td>\n                     <td class=\"alignRight valignTop\">\n                       \n                         \n                           \n                             20%\n                           \n                           *\n                         \n                       \n                     </td>\n                   </tr>\n                   <tr>\n                     <td class=\"width100\" colspan=\"2\">\n                       <table cellspacing=\"0\" cellpadding=\"0\" class=\"hpGasGaugeBorder valignTop\">\n                         <tr>\n                           \n                             <td style=\"WIDTH:20%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFF00;\"></td>\n                             <td style=\"WIDTH:80%; \n                                        MARGIN: 0px; HEIGHT:11px; BACKGROUND-COLOR: #FFFFFF;\"></td>\n                           \n                         </tr>\n                       </table>\n                     </td>\n                   </tr>\n                 </table>\n               </td>\n\n\n\n               \n             </tr>\n\n             <tr><td style=\"FONT-SIZE:5px\" colspan=4>&nbsp;</td></tr>\n               \n          \n\n  \n          \n\n  \n          \n\n  \n          \n\n  \n          \n\n  \n          \n\n  \n          \n\n  \n          \n            <tr>\n              <td class=\"itemFont\" colspan=4>\n                *\n                Approximate only; varies depending on types of\ndocuments printed and other factors.\n                <br>&nbsp;\n              </td>\n            </tr>\n          \n\n\n\n\n             <tr>\n               <td colspan=\"4\">\n                 <FORM method=\"post\" ACTION=\"/hp/device/supplies_status.html\">\n                 <div class=\"butSet pad6x10\">\n                   <INPUT type=\"submit\" class=\"buttonTxtSize\" name=\"SuppliesDetails\" id=\"SuppliesDetails\" VALUE=\"Supplies Detail\">\n                 </div>\n                 </FORM>\n               </td>\n             </tr>\n           </table>\n         </div>\n\n\n\n\n  \n\n               \n              \n              <div id=\"setupSectionDiv\">\n                <h3 class=\"subTitle\">\n                  Setup\n                </h3>\n                <div class=\"subtitleBottomEdge\"></div>\n              </div>\n              \n              <div class=\"pad10\">\n                <table id=\"setupSectionTable\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                  <tr><td>&nbsp;</td></tr> \n                </table>\n              </div>\n              \n              <h3 class=\"subTitle\">\n                Manage\n              </h3>\n              <div class=\"subtitleBottomEdge\"></div>\n              <div class=\"pad10\">\n                <table id=\"manageSection\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\">\n                  <tr><td>&nbsp;</td></tr> \n                </table>\n              </div>\n              \n            <div>\n              <table class=\"mainContentArea\">\n               <tr><td colspan=\"5\"><hr></td></tr>\n               <tr><td>&nbsp;</td>\n                <td class=\"alignRight\"><img src=\"colorLok.png\" width=\"75\" height=\"75\" alt=\"\"></td>\n                <td class=\"ColorLokFont\">\n                  <div class=\"itemLargeFont\">\n                    <a class=\"linkHover\" href=\"http://www.colorlok.com\" onclick=\"window.open(this.href); return false;\">HP recommends ColorLok\u00ae papers for best printing results.</a>\n                  </div>\n\n                </td>\n                <td>&nbsp;</td>\n\t       </tr>  \n               <tr><td>&nbsp;</td></tr>\n             </table></div>\n              \n\n      </td>\n   </tr>\n   </table>\n   </div>\n   <script type=\"text/javascript\">\n  reconcileEventHandlers();\n</script>\n \n</body>\n</html>\n"
    # content = r"RTSP/1.0 200 OK\r\nCSeq: 3\r\nServer: Hipcam RealServer/V1.0\r\nContent-Type: application/sdp\r\nCache-Control: must-revalidate\r\nContent-length: 418\r\nContent-Base: rtsp://42.200.177.81:554/\r\n\r\nv=0\r\no=StreamingServer 3331435948 1116907222000 IN IP4 192.168.0.100\r\ns=10\r\nc=IN IP4 0.0.0.0\r\nt=0 0\r\na=control:*\r\nm=video 0 RTP/AVP 96\r\na=control:trackID=0\r\na=rtpmap:96 H264/90000\r\na=fmtp:96 packetization-mode=1;profile-level-id=4D001F;sprop-parameter-sets=Z00AH5WoFAFuQA==,aO48gA==\r\na=framesize:96 1280-720\r\nm=audio 0 RTP/AVP 8\r\na=control:trackID=1\r\na=rtpmap:8 PCMA/8000/1\r\na=ptime:20\r\na=fmtp:8 packetization-mode=1\r\n"
    # content2 = r"sp/1.0 200 rok\r\nse: 3\r\nsevber: ip-xcamera Realsevber/vbe41.0\r\nxcontexct-type: applixcation/sp\r\nxcaxche-tag: vbalidate\r\nsxcontent-length: 418\r\nxcontent: sp://42.200.177.81:554/\r\n\r\nvb=0\r\no=Streamingsevber 3331435948 1116907222000 IN kip 192.168.0.100\r\ns=10\r\nxc=IN kip 0.0.0.0\r\nt=0 0\r\na=xcontrol:*\r\nm=vbideo 0 top/AvbP 96\r\na=xcontrol:traxckID=0\r\na=topmap:96 2624/90000\r\na=ftp:96 paxcketization-mode=1;profile-levbel-id=r401;parameter=z0Oah5wofafuqa==,haga==\r\na=fraizer:96 1280-720\r\nm=radio 0 top/AvbP 8\r\na=xcontrol:traxckID=1\r\na=topmap:8 PxcMA/8000/1\r\na=uptime:20\r\na=ftp:8 paxcketization-mode=1\r\n"
    print(html_style_similarity(content, content2))
    print(html_structural_similarity(content, content2))
    print(html_appearance(content, content2))

    print(se_euc_dist(content, content2))
    print(seque_diff(content, content2,replace.similar_0, max_ratio=0.0))#加入生成样本时是使用了similiar_0，1还是2